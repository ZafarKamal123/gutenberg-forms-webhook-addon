{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./src/constants.js","webpack:///./src/functions.js","webpack:///./src/index.js","webpack:///./src/webhook_picker/components/actionsList.js","webpack:///./src/webhook_picker/components/empty.js","webpack:///./src/webhook_picker/components/fields.js","webpack:///./src/webhook_picker/components/repeater.js","webpack:///./src/webhook_picker/index.js","webpack:///./src/webhook_picker/supports.js","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":\"React\"}"],"names":["TEXT_DOMAIN","window","lodash","has","get","isEmpty","trim","__","wp","i18n","validateWebhookAction","action","errors","urlRegex","name","url","requestMethod","requestFormat","includeHeaders","requestHeaders","includeSelectiveFields","requestBody","message","test","isEqual","includes","addFilter","hooks","createHigherOrderComponent","compose","Fragment","element","data","select","getBlock","InspectorControls","blockEditor","components","PanelBody","Button","withCustomControls","BlockEdit","props","currentBlock","clientId","currentBlockName","isBlockSupported","actions","attributes","isWebhookActionAdded","isSelected","isAddonEnabled","map","FormToggle","IconButton","Flex","Modal","useEffect","useState","ActionsList","addNew","onDelete","onSelect","render","id","deleteConfirmationModal","setDeleteConfirmationModal","textAlign","marginRight","Empty","onAdd","TextControl","SelectControl","Radio","__experimentalRadio","RadioGroup","__experimentalRadioGroup","clone","set","each","omit","isString","WebhookFields","state","setState","validationErrors","setValidationErrors","value","handleChange","val","type","newState","detectValidationErrorsFields","getValue","saveAction","currentValidationErrors","getHelpText","field","hasErrorInField","fieldError","hasError","updatedState","fieldType","updatedValidationErrors","newValidationErrors","SaveTrigger","supportedRequestMethods","supportedFormats","supportedDefaultHeaders","label","closeModal","Popover","uniqueId","findIndex","find","TagSelector","cwp_gf_select","Repeater","fields","setFields","queryOptions","queryTitle","optionTitle","defaultCustom","addField","custom","newFields","generatedID","Math","floor","random","fieldToAdd","queryValue","optionValue","displayTagSelector","addCustom","push","deleteField","filter","targetField","targetIndex","splice","onChange","idx","includeLabel","totalFields","length","newQueryValue","context","newOptionValue","tag","concat","WebhookPicker","modal","setModal","webhookActions","setWebhookActions","selectedWebhook","setSelectedWebhook","openModal","addAction","webhookAction","newActions","generatedId","selectedWebhookIndex","setAttributes","extendedData","webhooks","deleteAction","savedWebhooks","method"],"mappings":";;;;;;;;;;;;;;;;QAAA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA;QACA;QACA;QACA,gBAAgB,uBAAuB;QACvC;;;QAGA;QACA;QACA;QACA;;;;;;;;;;;;ACvJA;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;;AAEA;AACA;;AAEA,mC;;;;;;;;;;;ACVA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA,iC;;;;;;;;;;;ACfA;AACA;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,0B;;;;;;;;;;;AClBA;AACA;AACA;AACA;AA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","file":"index.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/index.js\",\"style-index\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","export const TEXT_DOMAIN = \"cwp_gf_wb_addon\";\r\n","import { TEXT_DOMAIN } from \"./constants\";\r\nconst { has, get, isEmpty, trim } = window.lodash;\r\nconst { __ } = wp.i18n;\r\n\r\n/**\r\n * Run some validation based on the given webhook action\r\n * @param {object} action Webhook Action Object\r\n * @return {boolean} isValid\r\n */\r\n\r\nexport function validateWebhookAction(action) {\r\n\t// initially the webhook is valid\r\n\tlet errors = {};\r\n\tlet urlRegex = /(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z]{2,6})([\\/\\w\\.-]*)*\\/?/;\r\n\tconst [\r\n\t\tname,\r\n\t\turl,\r\n\t\trequestMethod,\r\n\t\trequestFormat,\r\n\t\tincludeHeaders,\r\n\t\trequestHeaders,\r\n\t\tincludeSelectiveFields,\r\n\t\trequestBody,\r\n\t] = [\r\n\t\tget(action, \"name\"),\r\n\t\tget(action, \"url\"),\r\n\t\tget(action, \"requestMethod\"),\r\n\t\tget(action, \"requestFormat\"),\r\n\t\tget(action, \"includeHeaders\"),\r\n\t\tget(action, \"requestHeaders\"),\r\n\t\tget(action, \"requestHeaders\"),\r\n\t\tget(action, \"includeSelectiveFields\"),\r\n\t\tget(action, \"requestBody\"),\r\n\t];\r\n\r\n\tif (typeof name === \"undefined\" || isEmpty(trim(name))) {\r\n\t\terrors[\"name\"] = {\r\n\t\t\tmessage: __(\"Please Enter A Webhook Name\", TEXT_DOMAIN),\r\n\t\t};\r\n\t}\r\n\r\n\tif (typeof url === \"undefined\" || isEmpty(trim(url))) {\r\n\t\terrors[\"url\"] = {\r\n\t\t\tmessage: __(\"Please Enter A Webhook URL\", TEXT_DOMAIN),\r\n\t\t};\r\n\t} else if (!urlRegex.test(url)) {\r\n\t\terrors[\"url\"] = {\r\n\t\t\tmessage: __(\"Please Enter A Valid URL\", TEXT_DOMAIN),\r\n\t\t};\r\n\t}\r\n\r\n\treturn errors;\r\n}\r\n","import WebhookPicker from \"./webhook_picker/index\";\nimport \"./style.scss\";\nimport { TEXT_DOMAIN } from \"./constants\";\n\nconst { isEqual, isEmpty, has, get, includes } = window.lodash;\nconst { addFilter } = wp.hooks;\nconst { createHigherOrderComponent } = wp.compose;\nconst { Fragment } = wp.element;\nconst { getBlock } = wp.data.select(\"core/block-editor\");\nconst { InspectorControls } = wp.blockEditor;\nconst { PanelBody, Button } = wp.components;\nconst { __ } = wp.i18n;\n\nconst withCustomControls = createHigherOrderComponent((BlockEdit) => {\n\treturn (props) => {\n\t\tconst currentBlock = getBlock(props.clientId),\n\t\t\tcurrentBlockName = get(currentBlock, \"name\"),\n\t\t\tisBlockSupported = isEqual(currentBlockName, \"cwp/block-gutenberg-forms\");\n\n\t\tif (!isBlockSupported) {\n\t\t\treturn <BlockEdit {...props} />;\n\t\t}\n\n\t\tconst { actions } = props.attributes;\n\t\tconst isWebhookActionAdded = includes(actions, \"Webhook\");\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<BlockEdit {...props} />\n\t\t\t\t{!!props.isSelected && (\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t{isWebhookActionAdded && (\n\t\t\t\t\t\t\t<PanelBody initialOpen={false} title={__(\"Webhook\", TEXT_DOMAIN)}>\n\t\t\t\t\t\t\t\t<WebhookPicker {...props} />\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t)}\n\t\t\t</Fragment>\n\t\t);\n\t};\n});\n\nconst isAddonEnabled = get(\n\twindow,\n\t\"cwpGlobal.settings.integrations.webhook.enable\"\n);\n\nif (isAddonEnabled === true || isAddonEnabled === \"1\") {\n\taddFilter(\n\t\t\"editor.BlockEdit\",\n\t\t\"cwp-wb-gutenberg-forms-webhook-addon/custom-panel\",\n\t\twithCustomControls\n\t);\n}\n","import React from \"react\";\r\nimport { TEXT_DOMAIN } from \"../../constants\";\r\nconst { map, get } = window.lodash;\r\nconst { FormToggle, IconButton, Flex, Button, Modal } = wp.components;\r\nconst { __ } = wp.i18n;\r\nconst { useEffect, useState } = wp.element;\r\n\r\n/**\r\n * Will render added webhook lists\r\n */\r\n\r\nfunction ActionsList({ actions, addNew, onDelete, onSelect }) {\r\n\tconst [deleteConfirmationModal, setDeleteConfirmationModal] = useState({\r\n\t\trender: false,\r\n\t\tid: \"\",\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className=\"cwp-gf-wb-webhook-list\">\r\n\t\t\t{deleteConfirmationModal.render && (\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle={__(\"Delete Webhook?\", TEXT_DOMAIN)}\r\n\t\t\t\t\tonRequestClose={() =>\r\n\t\t\t\t\t\tsetDeleteConfirmationModal({ render: false, id: \"\" })\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t{__(\r\n\t\t\t\t\t\t\t\"This will permanently delete the webhook action.\",\r\n\t\t\t\t\t\t\tTEXT_DOMAIN\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div style={{ textAlign: \"right\" }}>\r\n\t\t\t\t\t\t<Button isDefault style={{ marginRight: 10 }}>\r\n\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t{__(\"Cancel\", TEXT_DOMAIN)}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tisPrimary\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tonDelete(deleteConfirmationModal.id);\r\n\t\t\t\t\t\t\t\tsetDeleteConfirmationModal({ render: false, id: \"\" });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t{__(\"Delete\", TEXT_DOMAIN)}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal>\r\n\t\t\t)}\r\n\t\t\t{map(actions, (action) => {\r\n\t\t\t\tconst name = get(action, \"name\");\r\n\t\t\t\tconst id = get(action, \"id\");\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"cwp-gf-wb-action\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span>{name}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"options\">\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\ticon=\"trash\"\r\n\t\t\t\t\t\t\t\tisSmall\r\n\t\t\t\t\t\t\t\tonClick={() => setDeleteConfirmationModal({ render: true, id })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\ticon=\"admin-generic\"\r\n\t\t\t\t\t\t\t\tisSmall\r\n\t\t\t\t\t\t\t\tonClick={() => onSelect(action)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t<div className=\"cwp-gf-wb-action-foot\">\r\n\t\t\t\t<Button isSmall isPrimary onClick={addNew}>\r\n\t\t\t\t\t{__(\"Add New\")}\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ActionsList;\r\n","import React from \"react\";\r\nimport { TEXT_DOMAIN } from \"../../constants\";\r\n\r\nconst { Button } = wp.components;\r\nconst { __ } = wp.i18n;\r\n\r\nexport default function Empty({ onAdd }) {\r\n\treturn (\r\n\t\t<div className=\"cwp-gf-wb-empty\">\r\n\t\t\t<Button className=\"editor-post-featured-image__toggle\" onClick={onAdd}>\r\n\t\t\t\t{__(\"Add New\", TEXT_DOMAIN)}\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { TEXT_DOMAIN } from \"../../constants\";\r\nimport Repeater from \"./repeater\";\r\nimport { validateWebhookAction } from \"../../functions\";\r\nimport {\r\n\tsupportedDefaultHeaders,\r\n\tsupportedFormats,\r\n\tsupportedRequestMethods,\r\n} from \"../supports\";\r\n\r\nconst { useEffect, useState } = wp.element;\r\nconst {\r\n\tModal,\r\n\tButton,\r\n\tTextControl,\r\n\tSelectControl,\r\n\t__experimentalRadio: Radio,\r\n\t__experimentalRadioGroup: RadioGroup,\r\n} = wp.components;\r\n\r\nconst {\r\n\tisEmpty,\r\n\tmap,\r\n\tclone,\r\n\tset,\r\n\tget,\r\n\thas,\r\n\teach,\r\n\tomit,\r\n\ttrim,\r\n\tisString,\r\n} = window.lodash;\r\nconst { __ } = wp.i18n;\r\n\r\nfunction WebhookFields(props) {\r\n\tconst [state, setState] = useState({\r\n\t\tname: \"\",\r\n\t\turl: \"\",\r\n\t\trequestMethod: \"post\",\r\n\t\trequestFormat: \"json\",\r\n\t\tincludeHeaders: \"false\",\r\n\t\trequestHeaders: [],\r\n\t\tincludeSelectiveFields: \"false\",\r\n\t\trequestBody: [],\r\n\t});\r\n\r\n\tconst [validationErrors, setValidationErrors] = useState({});\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { value } = props;\r\n\r\n\t\tif (!isEmpty(value)) {\r\n\t\t\tsetState(value);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst handleChange = (val = null, type = null) => {\r\n\t\tconst newState = clone(state);\r\n\t\tset(newState, type, val);\r\n\t\tsetState(newState);\r\n\t\tdetectValidationErrorsFields(newState, type);\r\n\t};\r\n\r\n\tconst getValue = (type) => get(state, type);\r\n\r\n\tconst saveAction = () => {\r\n\t\tconst currentValidationErrors = validateWebhookAction(state);\r\n\r\n\t\tif (!isEmpty(currentValidationErrors)) {\r\n\t\t\tsetValidationErrors(currentValidationErrors);\r\n\t\t} else {\r\n\t\t\tprops.onAdd(state);\r\n\t\t\tsetValidationErrors({});\r\n\t\t}\r\n\t};\r\n\r\n\tconst getHelpText = (field) => {\r\n\t\tconst hasErrorInField = has(validationErrors, field);\r\n\t\tconst fieldError = __(\r\n\t\t\t<span className=\"cwp-gf-wb-error-help\">\r\n\t\t\t\t{get(validationErrors, `${field}.message`)}\r\n\t\t\t</span>\r\n\t\t);\r\n\r\n\t\tswitch (field) {\r\n\t\t\tcase \"name\":\r\n\t\t\t\treturn hasErrorInField\r\n\t\t\t\t\t? fieldError\r\n\t\t\t\t\t: __(\"Custom Name For Webhook\", TEXT_DOMAIN);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"url\":\r\n\t\t\t\treturn hasErrorInField\r\n\t\t\t\t\t? fieldError\r\n\t\t\t\t\t: __(\"Will be used in the webhook request.\", TEXT_DOMAIN);\r\n\t\t}\r\n\t};\r\n\r\n\tconst hasError = (field) =>\r\n\t\thas(validationErrors, field) && !isEmpty(validationErrors, field);\r\n\r\n\t/**\r\n\t * Will detect if the field that has validation error is changing according to the\r\n\t * validity of the field and removing the error notice\r\n\t */\r\n\r\n\tconst detectValidationErrorsFields = (updatedState, fieldType) => {\r\n\t\tconst updatedValidationErrors = validateWebhookAction(updatedState);\r\n\r\n\t\t// this condition tests if the upcoming state has resolved the validation error\r\n\t\tif (!has(updatedValidationErrors, fieldType)) {\r\n\t\t\tconst newValidationErrors = omit(validationErrors, [fieldType]);\r\n\t\t\tsetValidationErrors(newValidationErrors);\r\n\t\t} else if (has(updatedValidationErrors, fieldType)) {\r\n\t\t\tsetValidationErrors({\r\n\t\t\t\t...validationErrors,\r\n\t\t\t\t[fieldType]: get(updatedValidationErrors, fieldType),\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst SaveTrigger = () => {\r\n\t\tif (!isEmpty(validationErrors)) {\r\n\t\t\treturn (\r\n\t\t\t\t<Button disabled isDefault onClick={saveAction}>\r\n\t\t\t\t\t{__(\"Save Action\", TEXT_DOMAIN)}\r\n\t\t\t\t</Button>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<Button isPrimary onClick={saveAction}>\r\n\t\t\t\t\t{__(\"Save Action\", TEXT_DOMAIN)}\r\n\t\t\t\t</Button>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"wb-field\">\r\n\t\t\t\t<TextControl\r\n\t\t\t\t\tclassName={hasError(\"name\") ? \"cwp-gf-wb-field-error\" : \"\"}\r\n\t\t\t\t\tlabel={__(\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tWebhook Name\r\n\t\t\t\t\t\t\t<span className=\"cwp-gf-wb-required-field\">*</span>\r\n\t\t\t\t\t\t</span>,\r\n\t\t\t\t\t\tTEXT_DOMAIN\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tvalue={getValue(\"name\")}\r\n\t\t\t\t\tonChange={(name) => handleChange(name, \"name\")}\r\n\t\t\t\t\thelp={getHelpText(\"name\")}\r\n\t\t\t\t\tplaceholder={__(\"Webhook Name\", TEXT_DOMAIN)}\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"wb-field\">\r\n\t\t\t\t<TextControl\r\n\t\t\t\t\tclassName={hasError(\"url\") ? \"cwp-gf-wb-field-error\" : \"\"}\r\n\t\t\t\t\tplaceholder={__(\"URL\", TEXT_DOMAIN)}\r\n\t\t\t\t\thelp={getHelpText(\"url\")}\r\n\t\t\t\t\tvalue={getValue(\"url\")}\r\n\t\t\t\t\tonChange={(url) => handleChange(url, \"url\")}\r\n\t\t\t\t\tlabel={__(\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tRequest URL\r\n\t\t\t\t\t\t\t<span className=\"cwp-gf-wb-required-field\">*</span>\r\n\t\t\t\t\t\t</span>,\r\n\t\t\t\t\t\tTEXT_DOMAIN\r\n\t\t\t\t\t)}\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row wb-field\">\r\n\t\t\t\t<div className=\"row-v\">\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\tvalue={getValue(\"requestMethod\")}\r\n\t\t\t\t\t\tonChange={(requestMethod) =>\r\n\t\t\t\t\t\t\thandleChange(requestMethod, \"requestMethod\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={__(\"Request Method\", TEXT_DOMAIN)}\r\n\t\t\t\t\t\toptions={supportedRequestMethods}\r\n\t\t\t\t\t\thelp={__(\"HTTP Method used for request\", TEXT_DOMAIN)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row-v\">\r\n\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\tvalue={getValue(\"requestFormat\")}\r\n\t\t\t\t\t\tonChange={(requestFormat) =>\r\n\t\t\t\t\t\t\thandleChange(requestFormat, \"requestFormat\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={__(\"Request Formats\", TEXT_DOMAIN)}\r\n\t\t\t\t\t\thelp={__(\"Select Format for request\", TEXT_DOMAIN)}\r\n\t\t\t\t\t\toptions={supportedFormats}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"wb-field row\">\r\n\t\t\t\t<span className=\"mr-10\"> {__(\"Request Headers\", TEXT_DOMAIN)} </span>\r\n\t\t\t\t<RadioGroup\r\n\t\t\t\t\tlabel={__(\"Headers\", TEXT_DOMAIN)}\r\n\t\t\t\t\tonChange={(includeHeaders) =>\r\n\t\t\t\t\t\thandleChange(includeHeaders, \"includeHeaders\")\r\n\t\t\t\t\t}\r\n\t\t\t\t\tchecked={getValue(\"includeHeaders\")}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Radio value={\"false\"}>{__(\"No Headers\")}</Radio>\r\n\t\t\t\t\t<Radio value={\"true\"}>{__(\"With Headers\")}</Radio>\r\n\t\t\t\t</RadioGroup>\r\n\t\t\t</div>\r\n\t\t\t{getValue(\"includeHeaders\") === \"true\" && (\r\n\t\t\t\t<div className=\"wb-field\">\r\n\t\t\t\t\t<Repeater\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\tcontext={\"Header\"}\r\n\t\t\t\t\t\tvalue={getValue(\"requestHeaders\")}\r\n\t\t\t\t\t\tonChange={(value) => handleChange(value, \"requestHeaders\")}\r\n\t\t\t\t\t\tqueryTitle={__(\"Header Name\", TEXT_DOMAIN)}\r\n\t\t\t\t\t\tqueryOptions={supportedDefaultHeaders}\r\n\t\t\t\t\t\toptionTitle={__(\"Header Value\", TEXT_DOMAIN)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"wb-field row\">\r\n\t\t\t\t<span className=\"mr-10\">\r\n\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t{__(\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tRequest Body\r\n\t\t\t\t\t\t\t<span className=\"cwp-gf-wb-required-field\">*</span>\r\n\t\t\t\t\t\t</span>,\r\n\t\t\t\t\t\tTEXT_DOMAIN\r\n\t\t\t\t\t)}{\" \"}\r\n\t\t\t\t</span>\r\n\t\t\t\t<RadioGroup\r\n\t\t\t\t\tlabel={__(\"Request Body\", TEXT_DOMAIN)}\r\n\t\t\t\t\tonChange={(includeSelectiveFields) =>\r\n\t\t\t\t\t\thandleChange(includeSelectiveFields, \"includeSelectiveFields\")\r\n\t\t\t\t\t}\r\n\t\t\t\t\tchecked={getValue(\"includeSelectiveFields\")}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Radio value={\"false\"}>{__(\"All Fields\")}</Radio>\r\n\t\t\t\t\t<Radio value={\"true\"}>{__(\"Selected Fields\")}</Radio>\r\n\t\t\t\t</RadioGroup>\r\n\t\t\t</div>\r\n\t\t\t{getValue(\"includeSelectiveFields\") === \"true\" && (\r\n\t\t\t\t<div className=\"wb-field\">\r\n\t\t\t\t\t<Repeater\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\tdefaultCustom={true}\r\n\t\t\t\t\t\tcontext={\"Field\"}\r\n\t\t\t\t\t\tqueryTitle={__(\"Field Name\", TEXT_DOMAIN)}\r\n\t\t\t\t\t\tvalue={getValue(\"requestBody\")}\r\n\t\t\t\t\t\tonChange={(value) => handleChange(value, \"requestBody\")}\r\n\t\t\t\t\t\tqueryOptions={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: \"Select Field\",\r\n\t\t\t\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\toptionTitle={__(\"Field Value\", TEXT_DOMAIN)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"cwp-gf-wb-footer\">\r\n\t\t\t\t<Button isDefault onClick={props.closeModal}>\r\n\t\t\t\t\t{__(\"Cancel\", TEXT_DOMAIN)}\r\n\t\t\t\t</Button>\r\n\t\t\t\t<SaveTrigger />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default WebhookFields;\r\n","import React from \"react\";\r\nimport { TEXT_DOMAIN } from \"../../constants\";\r\n\r\nconst { TextControl, SelectControl, Button, Popover } = wp.components;\r\nconst { useEffect, useState } = wp.element;\r\nconst { __ } = wp.i18n;\r\nconst {\r\n\tclone,\r\n\tset,\r\n\tuniqueId,\r\n\tisEqual,\r\n\tfindIndex,\r\n\tfind,\r\n\tisEmpty,\r\n\tget,\r\n\teach,\r\n\thas,\r\n} = window.lodash;\r\nconst TagSelector = get(window.cwp_gf_select(\"cwp/components\"), \"TagSelector\");\r\n\r\nfunction Repeater(props) {\r\n\tconst [fields, setFields] = useState([]);\r\n\tconst { queryOptions, queryTitle, optionTitle } = props;\r\n\r\n\tconst defaultCustom = has(props, \"defaultCustom\")\r\n\t\t? props.defaultCustom\r\n\t\t: false;\r\n\r\n\tconst addField = (custom = false) => {\r\n\t\tconst newFields = clone(fields);\r\n\t\tconst generatedID = Math.floor(Math.random() * 10000);\r\n\t\tconst fieldToAdd = {\r\n\t\t\tqueryValue: \"\",\r\n\t\t\toptionValue: \"\",\r\n\t\t\tid: generatedID,\r\n\t\t\tdisplayTagSelector: false,\r\n\t\t\taddCustom: custom,\r\n\t\t};\r\n\r\n\t\tif (defaultCustom) {\r\n\t\t\tfieldToAdd.addCustom = true;\r\n\t\t}\r\n\r\n\t\tnewFields.push(fieldToAdd);\r\n\t\tsetFields(newFields);\r\n\t};\r\n\r\n\tconst deleteField = (id) => {\r\n\t\tlet newFields = clone(fields);\r\n\t\t// deleting field matching the given id\r\n\t\tnewFields = newFields.filter((field) => !isEqual(field.id, id));\r\n\r\n\t\tsetFields(newFields);\r\n\t};\r\n\r\n\tconst handleChange = (value, type, id) => {\r\n\t\tconst newFields = clone(fields);\r\n\r\n\t\t// finding the target field\r\n\t\tconst targetField = find(newFields, { id });\r\n\t\t// finding the index of the target field\r\n\r\n\t\tconst targetIndex = findIndex(newFields, { id });\r\n\r\n\t\tif (type === \"displayTagSelector\") {\r\n\t\t\teach(newFields, (field) => set(field, \"displayTagSelector\", false));\r\n\t\t}\r\n\r\n\t\tnewFields.splice(targetIndex, 1, { ...targetField, [type]: value });\r\n\r\n\t\tsetFields(newFields);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tprops.onChange(fields); // updating the value\r\n\t}, [fields]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { value } = props;\r\n\r\n\t\tif (isEmpty(value)) {\r\n\t\t\taddField(); // adding placeholder first field\r\n\t\t} else {\r\n\t\t\tsetFields(value);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"cwp-gf-wb-repeater-field\">\r\n\t\t\t{!isEmpty(fields) &&\r\n\t\t\t\tfields.map((field, idx) => {\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tqueryValue,\r\n\t\t\t\t\t\toptionValue,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tdisplayTagSelector,\r\n\t\t\t\t\t\taddCustom,\r\n\t\t\t\t\t} = field;\r\n\t\t\t\t\tconst includeLabel = idx === 0;\r\n\t\t\t\t\tconst totalFields = fields.length;\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"query_select\">\r\n\t\t\t\t\t\t\t\t{!addCustom && !defaultCustom && (\r\n\t\t\t\t\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t\t\t\t\tvalue={queryValue}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(newQueryValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\thandleChange(newQueryValue, \"queryValue\", id);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tlabel={includeLabel ? __(queryTitle, TEXT_DOMAIN) : \"\"}\r\n\t\t\t\t\t\t\t\t\t\toptions={queryOptions}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{addCustom && (\r\n\t\t\t\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\t\t\t\tonChange={(newQueryValue) =>\r\n\t\t\t\t\t\t\t\t\t\t\thandleChange(newQueryValue, \"queryValue\", id)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={__(`Custom ${props.context}...`, TEXT_DOMAIN)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={queryValue}\r\n\t\t\t\t\t\t\t\t\t\tlabel={includeLabel ? __(queryTitle, TEXT_DOMAIN) : \"\"}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"query_value\">\r\n\t\t\t\t\t\t\t\t<div className=\"query_value_select\">\r\n\t\t\t\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\t\t\t\tvalue={optionValue}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(newOptionValue) =>\r\n\t\t\t\t\t\t\t\t\t\t\thandleChange(newOptionValue, \"optionValue\", id)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlabel={includeLabel ? __(optionTitle, TEXT_DOMAIN) : \"\"}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder={__(\"Value..\", TEXT_DOMAIN)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"query_value_options\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{displayTagSelector && (\r\n\t\t\t\t\t\t\t\t\t\t\t<Popover\r\n\t\t\t\t\t\t\t\t\t\t\t\tposition=\"bottom center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"cwp-tag-selector\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TagSelector\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclientId={props.clientId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinsertTag={(tag) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleChange(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptionValue.concat(\" \", tag),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"optionValue\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleChange(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!displayTagSelector,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"displayTagSelector\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tshowTooltip={true}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={__(\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisplayTagSelector ? `Close Inserter` : `Insert Tag`,\r\n\t\t\t\t\t\t\t\t\t\t\t\tTEXT_DOMAIN\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\ticon={displayTagSelector ? \"no-alt\" : \"list-view\"}\r\n\t\t\t\t\t\t\t\t\t\t\tisSmall\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{totalFields > 1 && (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => deleteField(id)}\r\n\t\t\t\t\t\t\t\t\t\t\tshowTooltip={true}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={__(`Delete ${props.context}`, TEXT_DOMAIN)}\r\n\t\t\t\t\t\t\t\t\t\t\ticon=\"trash\"\r\n\t\t\t\t\t\t\t\t\t\t\tisSmall\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t<div className=\"foot\">\r\n\t\t\t\t{!defaultCustom && (\r\n\t\t\t\t\t<Button isSmall isDefault onClick={() => addField(true)}>\r\n\t\t\t\t\t\t{__(`Add Custom ${props.context}`, TEXT_DOMAIN)}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Button isSmall isPrimary onClick={() => addField(false)}>\r\n\t\t\t\t\t{__(`Add ${props.context}`, TEXT_DOMAIN)}\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Repeater;\r\n","import React from \"react\";\r\nimport Empty from \"./components/empty\";\r\nimport { TEXT_DOMAIN } from \"../constants\";\r\nimport WebhookFields from \"./components/fields\";\r\nimport ActionsList from \"./components/actionsList\";\r\nimport {\r\n\tsupportedDefaultHeaders,\r\n\tsupportedFormats,\r\n\tsupportedRequestMethods,\r\n} from \"./supports\";\r\n\r\nconst { useEffect, useState } = wp.element;\r\nconst {\r\n\tModal,\r\n\tButton,\r\n\tTextControl,\r\n\tSelectControl,\r\n\t__experimentalRadio: Radio,\r\n\t__experimentalRadioGroup: RadioGroup,\r\n} = wp.components;\r\n\r\nconst {\r\n\tisEmpty,\r\n\tmap,\r\n\tclone,\r\n\tset,\r\n\tget,\r\n\tuniqueId,\r\n\tisEqual,\r\n\thas,\r\n\tfindIndex,\r\n} = window.lodash;\r\nconst { __ } = wp.i18n;\r\n\r\nfunction WebhookPicker(props) {\r\n\tconst [modal, setModal] = useState(false);\r\n\tconst [webhookActions, setWebhookActions] = useState([]);\r\n\tconst [selectedWebhook, setSelectedWebhook] = useState([]);\r\n\r\n\tconst openModal = () => setModal(true);\r\n\tconst closeModal = () => {\r\n\t\tsetModal(false);\r\n\t\tsetSelectedWebhook({}); // un selecting the selected webhook\r\n\t};\r\n\r\n\t// this will update the webhook if there is selected in the selectedWebhook\r\n\r\n\tconst addAction = (webhookAction) => {\r\n\t\tconst newActions = clone(webhookActions);\r\n\t\tconst generatedId = Math.floor(Math.random() * 1000);\r\n\r\n\t\tif (has(webhookAction, \"id\") && !isEmpty(selectedWebhook)) {\r\n\t\t\tconst selectedWebhookIndex = findIndex(webhookActions, {\r\n\t\t\t\tid: webhookAction.id,\r\n\t\t\t});\r\n\r\n\t\t\tnewActions.splice(selectedWebhookIndex, 1, webhookAction); // updating the selected webhook\r\n\t\t\tsetWebhookActions(newActions);\r\n\t\t\tsetSelectedWebhook({}); // un selecting the selected webhook\r\n\t\t} else {\r\n\t\t\tnewActions.push({\r\n\t\t\t\t...webhookAction,\r\n\t\t\t\tid: generatedId,\r\n\t\t\t});\r\n\t\t\tsetWebhookActions(newActions);\r\n\t\t}\r\n\r\n\t\tprops.setAttributes({\r\n\t\t\textendedData: {\r\n\t\t\t\t...props.attributes.extendedData,\r\n\t\t\t\twebhooks: newActions,\r\n\t\t\t},\r\n\t\t});\r\n\t\tcloseModal();\r\n\t};\r\n\r\n\tconst deleteAction = (id) => {\r\n\t\tlet newActions = clone(webhookActions);\r\n\t\tnewActions = newActions.filter((action) => !isEqual(action.id, id));\r\n\t\tsetWebhookActions(newActions);\r\n\t\tprops.setAttributes({\r\n\t\t\textendedData: {\r\n\t\t\t\t...props.attributes.extendedData,\r\n\t\t\t\twebhooks: newActions,\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tconst onSelect = (action) => {\r\n\t\tsetSelectedWebhook(action);\r\n\t\topenModal();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst savedWebhooks = get(props.attributes, \"extendedData.webhooks\");\r\n\r\n\t\tif (!isEmpty(savedWebhooks)) {\r\n\t\t\tsetWebhookActions(savedWebhooks);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"cwp-webhook-picker\">\r\n\t\t\t{isEmpty(webhookActions) && <Empty onAdd={openModal} />}\r\n\t\t\t{!isEmpty(webhookActions) && (\r\n\t\t\t\t<ActionsList\r\n\t\t\t\t\taddNew={openModal}\r\n\t\t\t\t\tonDelete={deleteAction}\r\n\t\t\t\t\tonSelect={onSelect}\r\n\t\t\t\t\tactions={webhookActions}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{modal && (\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tclassName=\"cwp-gf-wb-action-modal\"\r\n\t\t\t\t\ttitle={__(\"Webhook Action\", TEXT_DOMAIN)}\r\n\t\t\t\t\tonRequestClose={closeModal}\r\n\t\t\t\t\tshouldCloseOnEsc={false}\r\n\t\t\t\t\tshouldCloseOnClickOutside={false}\r\n\t\t\t\t>\r\n\t\t\t\t\t<WebhookFields\r\n\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\tvalue={selectedWebhook}\r\n\t\t\t\t\t\tonAdd={addAction}\r\n\t\t\t\t\t\tcloseModal={closeModal}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Modal>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default WebhookPicker;\r\n","export const supportedRequestMethods = [\r\n\t{\r\n\t\tlabel: \"GET\",\r\n\t\tmethod: \"get\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"POST\",\r\n\t\tvalue: \"post\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"PUT\",\r\n\t\tvalue: \"put\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"PATCH\",\r\n\t\tvalue: \"patch\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"DELETE\",\r\n\t\tvalue: \"delete\",\r\n\t},\r\n];\r\n\r\nexport const supportedFormats = [\r\n\t{\r\n\t\tlabel: \"JSON\",\r\n\t\tvalue: \"json\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"FORM\",\r\n\t\tvalue: \"form\",\r\n\t},\r\n];\r\n\r\nexport const supportedDefaultHeaders = [\r\n\t{\r\n\t\tlabel: \"Accept\",\r\n\t\tvalue: \"accept\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Accept-Charset\",\r\n\t\tvalue: \"accept-charset\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Accept-Encoding\",\r\n\t\tvalue: \"accept-encoding\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Accept-Language\",\r\n\t\tvalue: \"accept-language\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Accept-Datetime\",\r\n\t\tvalue: \"accept-datetime\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Authorization\",\r\n\t\tvalue: \"authorization\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Cache-Control\",\r\n\t\tvalue: \"cache-control\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Connection\",\r\n\t\tvalue: \"connection\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Cookie\",\r\n\t\tvalue: \"cookie\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Content-Length\",\r\n\t\tvalue: \"content-length\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Date\",\r\n\t\tvalue: \"date\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Expect\",\r\n\t\tvalue: \"expect\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Forwarded\",\r\n\t\tvalue: \"forwarded\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Host\",\r\n\t\tvalue: \"host\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"If-Match\",\r\n\t\tvalue: \"if-match\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"If-Modified-Since\",\r\n\t\tvalue: \"if-modified-since\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"If-None-Match\",\r\n\t\tvalue: \"if-none-match\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"If-Range\",\r\n\t\tvalue: \"if-range\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"If-Unmodified-Since\",\r\n\t\tvalue: \"if-unmodified-since\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Max-Forwards\",\r\n\t\tvalue: \"max-forwards\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Origin\",\r\n\t\tvalue: \"origin\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Pragma\",\r\n\t\tvalue: \"pragma\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Proxy-Authorization\",\r\n\t\tvalue: \"proxy-authorization\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Range\",\r\n\t\tvalue: \"range\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Referer\",\r\n\t\tvalue: \"referer\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"TE\",\r\n\t\tvalue: \"te\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"User-Agent\",\r\n\t\tvalue: \"user-agent\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Via\",\r\n\t\tvalue: \"via\",\r\n\t},\r\n\t{\r\n\t\tlabel: \"Warning\",\r\n\t\tvalue: \"warning\",\r\n\t},\r\n];\r\n","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"React\"]; }());"],"sourceRoot":""}